# 🚀 一键构建和合并 - 超简单使用指南

## ✨ 新功能：一键完成所有操作！

现在只需要一个命令，就能自动完成：
- ✅ 构建项目
- ✅ 自动查找导出的HTML文件
- ✅ 合并照片数据
- ✅ 生成最终文件

## 📋 使用步骤（超简单！）

### 方法1：自动查找导出文件（推荐）

1. **上传照片并导出**
   - 在网页中上传照片
   - 点击 "💾 Export" 按钮
   - 下载 `love-in-mexico-export.html` 文件

2. **将导出文件放到以下任一位置：**
   - `dist` 文件夹
   - 项目根目录
   - 下载文件夹（会自动查找）

3. **运行一键脚本：**
   ```bash
   npm run build-and-merge
   ```

4. **完成！**
   - 打开 `dist/index.html` 即可使用

### 方法2：指定导出文件路径

如果你知道导出文件的确切位置：

```bash
npm run build-and-merge /path/to/love-in-mexico-export.html
```

## 🎯 脚本会自动做什么？

1. **自动查找**导出的HTML文件
   - 在多个常见位置搜索
   - 包括：dist文件夹、项目根目录、下载文件夹

2. **自动构建**项目
   - 运行 `npm run build`
   - 生成所有必要的文件

3. **自动合并**照片数据
   - 从导出的HTML提取照片数据
   - 合并到构建后的HTML
   - 生成最终的 `dist/index.html`

4. **自动备份**原文件
   - 如果存在旧的 `index.html`，会自动备份

## 💡 使用场景

### 场景1：你自己使用
```bash
# 上传照片 → 导出 → 运行
npm run build-and-merge
```

### 场景2：分享给其他人
1. 他们访问你的网页
2. 上传照片并导出
3. 运行 `npm run build-and-merge`
4. 完成！

### 场景3：批量处理
```bash
# 可以多次运行，每次都会自动处理最新的导出文件
npm run build-and-merge
```

## ⚠️ 注意事项

- 如果未找到导出的HTML文件，脚本仍会构建项目，但不会合并照片数据
- 每次运行都会备份原来的 `index.html`（如果存在）
- 导出的HTML文件必须包含照片数据（从网页导出）

## 🔧 故障排除

**问题：找不到导出的HTML文件**
- 解决：将文件放到 `dist` 文件夹，或使用完整路径

**问题：构建失败**
- 解决：确保已安装依赖：`npm install`

**问题：合并失败**
- 解决：检查导出的HTML文件格式是否正确

## 📁 文件说明

- `scripts/build-and-merge.js` - 一键脚本
- `dist/index.html` - 最终生成的文件（包含照片数据）
- `dist/index.html.backup` - 自动备份的原文件





